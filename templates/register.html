{% extends "base.html" %}

{% block title %}Register{% endblock %}

{% block content %}
<div class="relative flex items-center justify-center h-screen overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-gray-900 to-black"></div>
    <div class="relative bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-md border border-gray-700 transition-transform duration-500 ease-in-out transform hover:scale-105">
        <h2 class="text-2xl font-bold mb-4 text-center text-gray-100">Register</h2>
        <form id="register-form" onsubmit="validateRegisterForm(event)">
            <div class="mb-4">
                <label class="block text-gray-200">Email</label>
                <input type="email" class="mt-1 block w-full border border-gray-600 rounded-md p-2 bg-gray-700 text-gray-100" placeholder="Enter your email" required/>
            </div>
            <div class="mb-4">
                <label class="block text-gray-200">Full Name</label>
                <input type="text" class="mt-1 block w-full border border-gray-600 rounded-md p-2 bg-gray-700 text-gray-100" placeholder="Enter your full name" required/>
            </div>
            <div class="mb-4">
                <label class="block text-gray-200">Role</label>
                <select id="role-select" class="mt-1 block w-full border border-gray-600 rounded-md p-2 bg-gray-700 text-gray-100">
                    <option value="student">Student</option>
                    <option value="staff">Staff</option>
                </select>
            </div>
            <div class="mb-4">
                <label class="block text-gray-200">Department</label>
                <select class="mt-1 block w-full border border-gray-600 rounded-md p-2 bg-gray-700 text-gray-100">
                    <option value="computer">Computer</option>
                    <option value="electrical">Electrical</option>
                    <option value="mining">Mining</option>
                    <option value="mechanical">Mechanical</option>
                </select>
            </div>
            <div class="mb-4" id="course-field" style="display: none;">
                <label class="block text-gray-200">Course</label>
                <input type="text" class="mt-1 block w-full border border-gray-600 rounded-md p-2 bg-gray-700 text-gray-100" placeholder="Enter your course"/>
            </div>
            <div class="mb-4">
                <label class="block text-gray-200">Year</label>
                <select class="mt-1 block w-full border border-gray-600 rounded-md p-2 bg-gray-700 text-gray-100">
                    <option value="first-year">First Year</option>
                    <option value="second-year">Second Year</option>
                    <option value="third-year">Third Year</option>
                </select>
            </div>
            <div class="mb-4">
                <label class="block text-gray-200">Level</label>
                <select class="mt-1 block w-full border border-gray-600 rounded-md p-2 bg-gray-700 text-gray-100">
                    <option value="bachelor">Bachelor</option>
                    <option value="diploma">Diploma</option>
                    <option value="masters">Masters</option>
                </select>
            </div>
            <div class="mb-4">
                <label class="block text-gray-200">Password</label>
                <input type="password" class="mt-1 block w-full border border-gray-600 rounded-md p-2 bg-gray-700 text-gray-100" placeholder="Enter your password" required/>
            </div>
            <div class="mb-4">
                <label class="block text-gray-200">Confirm Password</label>
                <input type="password" class="mt-1 block w-full border border-gray-600 rounded-md p-2 bg-gray-700 text-gray-100" placeholder="Confirm your password" required/>
            </div>
            <button type="submit" style="background: linear-gradient(95deg, #059DFF 15%, #6549D5 45%, #E33FA1 75%, #FB5343 100%); color: white; font-weight: bold; padding: 10px 20px; border-radius: 8px; width: 100%; transition: transform 0.5s ease-in-out;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">Register</button>
        </form>
        <p class="text-center mt-4">
            <span class="text-gray-200">Already have an account?</span>
            <a href="{{ url_for('login') }}" class="text-white hover:text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-500 transition duration-500 ease-in-out transform hover:scale-110">Login</a>
        </p>
    </div>
</div>

<script>
document.querySelector('#role-select').addEventListener('change', function() {
    if (this.value === 'student') {
        document.getElementById('course-field').style.display = 'block';
    } else {
        document.getElementById('course-field').style.display = 'none';
    }
});

function validateRegisterForm(event) {
    event.preventDefault();
    // Add any custom validation logic if needed
    // Redirect to login page after successful registration
    window.location.href = "{{ url_for('login') }}";
}
</script>
{% endblock %}
